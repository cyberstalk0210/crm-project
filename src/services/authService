import api from '../utils/api';

export const login = async (username, password) => {
  try {
    const response = await api.post('/login', new URLSearchParams({
      username: username,
      password: password,
    }), {
      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
    });
    // Store token or session if using JWT (not implemented here; assumes session-based auth)
    localStorage.setItem('isAuthenticated', 'true');
    return true;
  } catch (error) {
    console.error('Login failed:', error);
    return false;
  }
};

export const logout = () => {
  localStorage.removeItem('isAuthenticated');
};

export const isAuthenticated = () => {
  return localStorage.getItem('isAuthenticated') === 'true';
};